<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlowBoard ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–∞–∫–µ—Ç</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e0e11;
    --surface: #18181d;
    --surface2: #1f1f26;
    --surface3: #26262f;
    --border: #2e2e3a;
    --border2: #3a3a48;
    --text: #f0f0f5;
    --text2: #9898b0;
    --text3: #5c5c70;
    --accent: #7c6aff;
    --accent2: #9d8fff;
    --accent-glow: rgba(124,106,255,0.15);
    --green: #22c55e;
    --red: #ef4444;
    --orange: #f97316;
    --yellow: #eab308;
    --blue: #3b82f6;
    --pink: #ec4899;
    --card-shadow: 0 2px 12px rgba(0,0,0,0.4);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* NAV */
  .top-nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    height: 56px;
    background: rgba(14,14,17,0.85);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 24px;
  }
  .logo {
    font-family: 'Syne', sans-serif;
    font-weight: 800;
    font-size: 20px;
    display: flex; align-items: center; gap: 8px;
  }
  .logo-icon {
    width: 28px; height: 28px;
    background: var(--accent);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px;
  }
  .nav-tabs {
    display: flex; gap: 4px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 4px;
  }
  .nav-tab {
    padding: 6px 16px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    border: none;
    background: transparent;
    color: var(--text2);
    transition: all 0.2s;
    font-family: 'DM Sans', sans-serif;
  }
  .nav-tab.active {
    background: var(--accent);
    color: #fff;
  }
  .nav-tab:hover:not(.active) { color: var(--text); background: var(--surface2); }
  .nav-right { display: flex; align-items: center; gap: 12px; }
  .avatar {
    width: 32px; height: 32px; border-radius: 50%;
    background: linear-gradient(135deg, var(--accent), var(--pink));
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; font-weight: 600;
  }

  /* SCREENS */
  .screen { display: none; padding-top: 56px; min-height: 100vh; }
  .screen.active { display: block; }

  /* === SCREEN 1: LOGIN === */
  .auth-screen {
    display: flex; align-items: center; justify-content: center;
    min-height: 100vh; padding-top: 0 !important;
    position: relative; overflow: hidden;
  }
  .auth-bg {
    position: absolute; inset: 0; pointer-events: none;
  }
  .auth-bg-circle {
    position: absolute; border-radius: 50%;
    filter: blur(80px); opacity: 0.15;
  }
  .auth-card {
    position: relative; z-index: 1;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 40px;
    width: 400px;
    box-shadow: 0 32px 80px rgba(0,0,0,0.6);
  }
  .auth-title {
    font-family: 'Syne', sans-serif;
    font-size: 26px; font-weight: 700;
    margin-bottom: 6px;
  }
  .auth-sub { color: var(--text2); font-size: 14px; margin-bottom: 28px; }
  .form-group { margin-bottom: 16px; }
  .form-label { font-size: 13px; font-weight: 500; color: var(--text2); margin-bottom: 6px; display: block; }
  .form-input {
    width: 100%;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 10px 14px;
    font-size: 14px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    outline: none;
    transition: border-color 0.2s;
  }
  .form-input:focus { border-color: var(--accent); }
  .form-input::placeholder { color: var(--text3); }
  .btn-primary {
    width: 100%;
    background: var(--accent);
    color: #fff;
    border: none;
    border-radius: 10px;
    padding: 11px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
    margin-top: 4px;
  }
  .btn-primary:hover { background: var(--accent2); transform: translateY(-1px); }
  .auth-footer { text-align: center; margin-top: 20px; font-size: 13px; color: var(--text2); }
  .auth-link { color: var(--accent); text-decoration: none; cursor: pointer; }

  /* === SCREEN 2: DASHBOARD === */
  .dashboard-layout {
    display: flex; min-height: calc(100vh - 56px);
  }
  .sidebar {
    width: 240px; flex-shrink: 0;
    background: var(--surface);
    border-right: 1px solid var(--border);
    padding: 20px 12px;
    display: flex; flex-direction: column; gap: 4px;
  }
  .sidebar-section {
    font-size: 11px; font-weight: 600; color: var(--text3);
    letter-spacing: 0.08em; text-transform: uppercase;
    padding: 4px 8px; margin: 8px 0 4px;
  }
  .sidebar-item {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 10px;
    border-radius: 9px;
    cursor: pointer;
    font-size: 14px; color: var(--text2);
    transition: all 0.15s;
    border: 1px solid transparent;
  }
  .sidebar-item:hover { background: var(--surface2); color: var(--text); }
  .sidebar-item.active { background: var(--accent-glow); color: var(--accent2); border-color: rgba(124,106,255,0.2); }
  .sidebar-item .dot {
    width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
  }
  .sidebar-badge {
    margin-left: auto;
    background: var(--surface3);
    color: var(--text2);
    font-size: 11px;
    padding: 1px 7px;
    border-radius: 20px;
    font-weight: 500;
  }
  .main-content { flex: 1; padding: 28px 32px; overflow-y: auto; }
  .page-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 28px;
  }
  .page-title {
    font-family: 'Syne', sans-serif;
    font-size: 22px; font-weight: 700;
  }
  .page-sub { color: var(--text2); font-size: 13px; margin-top: 2px; }
  .btn-sm {
    background: var(--accent);
    color: #fff; border: none;
    border-radius: 9px; padding: 8px 16px;
    font-size: 13px; font-weight: 600;
    cursor: pointer; font-family: 'DM Sans', sans-serif;
    display: flex; align-items: center; gap: 6px;
    transition: all 0.2s;
  }
  .btn-sm:hover { background: var(--accent2); transform: translateY(-1px); }
  .boards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 16px;
  }
  .board-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative; overflow: hidden;
  }
  .board-card:hover { border-color: var(--border2); transform: translateY(-2px); box-shadow: var(--card-shadow); }
  .board-card-accent {
    position: absolute; top: 0; left: 0; right: 0; height: 3px;
    border-radius: 14px 14px 0 0;
  }
  .board-card-title {
    font-family: 'Syne', sans-serif;
    font-weight: 600; font-size: 15px;
    margin-bottom: 6px; margin-top: 8px;
  }
  .board-card-desc { font-size: 12px; color: var(--text2); line-height: 1.5; margin-bottom: 16px; }
  .board-card-meta {
    display: flex; align-items: center; justify-content: space-between;
    font-size: 11px; color: var(--text3);
  }
  .board-card-tasks { display: flex; align-items: center; gap: 4px; }
  .new-board-card {
    background: transparent;
    border: 1px dashed var(--border2);
    border-radius: 14px;
    padding: 20px;
    cursor: pointer;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 8px; min-height: 140px;
    transition: all 0.2s;
    color: var(--text3);
    font-size: 13px;
  }
  .new-board-card:hover { border-color: var(--accent); color: var(--accent); background: var(--accent-glow); }
  .plus-icon { font-size: 24px; }

  /* === SCREEN 3: BOARD === */
  .board-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px 24px; border-bottom: 1px solid var(--border);
    background: var(--surface);
  }
  .board-header-left { display: flex; align-items: center; gap: 12px; }
  .breadcrumb { font-size: 13px; color: var(--text2); }
  .breadcrumb span { color: var(--text3); margin: 0 4px; }
  .board-title-h {
    font-family: 'Syne', sans-serif;
    font-weight: 700; font-size: 18px;
    display: flex; align-items: center; gap: 8px;
  }
  .board-color-dot { width: 10px; height: 10px; border-radius: 50%; }
  .board-filters {
    display: flex; align-items: center; gap: 8px;
  }
  .filter-input {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 7px 12px;
    font-size: 13px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    outline: none; width: 180px;
  }
  .filter-select {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 7px 10px;
    font-size: 12px;
    color: var(--text2);
    font-family: 'DM Sans', sans-serif;
    outline: none; cursor: pointer;
  }
  .board-canvas {
    display: flex;
    gap: 16px;
    padding: 24px;
    overflow-x: auto;
    min-height: calc(100vh - 56px - 61px);
    align-items: flex-start;
  }
  .column {
    flex-shrink: 0; width: 280px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    display: flex; flex-direction: column;
    max-height: calc(100vh - 180px);
  }
  .column-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 14px 10px;
    border-bottom: 1px solid var(--border);
  }
  .column-title {
    display: flex; align-items: center; gap: 8px;
    font-weight: 600; font-size: 13px;
  }
  .column-count {
    background: var(--surface2);
    color: var(--text2);
    font-size: 11px; padding: 1px 7px;
    border-radius: 20px; font-weight: 500;
  }
  .column-menu {
    width: 26px; height: 26px;
    border-radius: 6px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    color: var(--text3); font-size: 16px;
    transition: all 0.15s;
    border: none; background: transparent;
  }
  .column-menu:hover { background: var(--surface2); color: var(--text); }
  .column-body {
    padding: 10px; display: flex; flex-direction: column;
    gap: 8px; overflow-y: auto; flex: 1;
  }
  .task-card {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 12px;
    cursor: grab;
    transition: all 0.2s;
    position: relative;
  }
  .task-card:hover {
    border-color: var(--border2);
    box-shadow: 0 4px 16px rgba(0,0,0,0.3);
    transform: translateY(-1px);
  }
  .task-card.dragging {
    opacity: 0.5; cursor: grabbing;
  }
  .task-priority {
    display: inline-flex; align-items: center; gap: 4px;
    font-size: 10px; font-weight: 600; text-transform: uppercase;
    letter-spacing: 0.06em; padding: 2px 7px;
    border-radius: 4px; margin-bottom: 8px;
  }
  .priority-urgent { background: rgba(239,68,68,0.15); color: #ef4444; }
  .priority-high { background: rgba(249,115,22,0.15); color: #f97316; }
  .priority-medium { background: rgba(234,179,8,0.15); color: #eab308; }
  .priority-low { background: rgba(34,197,94,0.15); color: #22c55e; }
  .task-title { font-size: 13px; font-weight: 500; line-height: 1.4; margin-bottom: 8px; }
  .task-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 10px; }
  .tag {
    font-size: 10px; padding: 2px 7px; border-radius: 4px;
    background: var(--surface3); color: var(--text2);
    font-weight: 500;
  }
  .task-footer {
    display: flex; align-items: center; justify-content: space-between;
    font-size: 11px; color: var(--text3);
  }
  .deadline { display: flex; align-items: center; gap: 4px; }
  .deadline.overdue { color: var(--red); }
  .add-task-btn {
    width: 100%; padding: 8px;
    border: 1px dashed var(--border2);
    border-radius: 8px; background: transparent;
    color: var(--text3); font-size: 12px;
    cursor: pointer; font-family: 'DM Sans', sans-serif;
    display: flex; align-items: center; justify-content: center; gap: 6px;
    transition: all 0.15s; margin-top: 2px;
  }
  .add-task-btn:hover { border-color: var(--accent); color: var(--accent); background: var(--accent-glow); }
  .add-column-btn {
    flex-shrink: 0; width: 60px;
    background: var(--surface);
    border: 1px dashed var(--border2);
    border-radius: 14px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 6px; cursor: pointer;
    color: var(--text3); font-size: 11px;
    transition: all 0.2s; align-self: stretch;
    writing-mode: vertical-lr;
    font-family: 'DM Sans', sans-serif;
    border: none;
  }
  .add-column-btn:hover { border-color: var(--accent); color: var(--accent); }

  /* MODAL */
  .modal-overlay {
    position: fixed; inset: 0; z-index: 200;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(4px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: opacity 0.2s;
  }
  .modal-overlay.open { opacity: 1; pointer-events: all; }
  .modal {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 28px;
    width: 480px;
    box-shadow: 0 32px 80px rgba(0,0,0,0.6);
    transform: translateY(8px); transition: transform 0.2s;
    max-height: 85vh; overflow-y: auto;
  }
  .modal-overlay.open .modal { transform: translateY(0); }
  .modal-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 20px;
  }
  .modal-title {
    font-family: 'Syne', sans-serif;
    font-weight: 700; font-size: 18px;
  }
  .modal-close {
    width: 30px; height: 30px;
    border-radius: 8px; cursor: pointer;
    border: 1px solid var(--border);
    background: var(--surface2);
    color: var(--text2); font-size: 16px;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.15s;
  }
  .modal-close:hover { background: var(--surface3); color: var(--text); }
  .priority-picker {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 8px; margin-top: 6px;
  }
  .priority-option {
    padding: 8px 12px; border-radius: 8px;
    border: 1px solid var(--border);
    background: var(--surface2);
    cursor: pointer; font-size: 12px;
    font-weight: 500; display: flex; align-items: center; gap: 6px;
    transition: all 0.15s; font-family: 'DM Sans', sans-serif;
    color: var(--text2);
  }
  .priority-option.selected { border-color: var(--accent); background: var(--accent-glow); color: var(--text); }
  .modal-footer {
    display: flex; gap: 10px; justify-content: flex-end; margin-top: 24px;
  }
  .btn-ghost {
    padding: 8px 16px; border-radius: 9px;
    border: 1px solid var(--border); background: transparent;
    color: var(--text2); font-size: 13px; font-weight: 500;
    cursor: pointer; font-family: 'DM Sans', sans-serif;
    transition: all 0.15s;
  }
  .btn-ghost:hover { background: var(--surface2); color: var(--text); }

  /* TASK DETAIL MODAL */
  .task-detail-body { display: flex; flex-direction: column; gap: 20px; }
  .detail-section-title {
    font-size: 11px; font-weight: 600; color: var(--text3);
    text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 8px;
  }
  .detail-description {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px; padding: 12px;
    font-size: 13px; color: var(--text2);
    line-height: 1.6; min-height: 80px;
  }

  /* COLORS */
  .color-palette { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 6px; }
  .color-dot-pick {
    width: 28px; height: 28px; border-radius: 50%;
    cursor: pointer; border: 2px solid transparent;
    transition: all 0.15s;
  }
  .color-dot-pick:hover, .color-dot-pick.selected { border-color: #fff; transform: scale(1.15); }

  /* STATS */
  .stats-row { display: flex; gap: 12px; margin-bottom: 28px; }
  .stat-card {
    flex: 1; background: var(--surface);
    border: 1px solid var(--border); border-radius: 12px;
    padding: 16px 18px;
  }
  .stat-value {
    font-family: 'Syne', sans-serif;
    font-size: 26px; font-weight: 700; margin-bottom: 2px;
  }
  .stat-label { font-size: 12px; color: var(--text2); }

  /* STATUS INDICATOR IN COLUMN */
  .status-dot {
    width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
  }

  /* Drag placeholder */
  .drag-placeholder {
    border: 2px dashed var(--accent);
    border-radius: 10px; height: 72px;
    background: var(--accent-glow);
    opacity: 0.6;
  }

  .tooltip {
    font-size: 11px; color: var(--text3);
    text-align: center; padding: 8px;
  }
</style>
</head>
<body>

<!-- TOP NAV -->
<nav class="top-nav">
  <div class="logo">
    <div class="logo-icon">‚ö°</div>
    FlowBoard
  </div>
  <div class="nav-tabs">
    <button class="nav-tab" onclick="showScreen('login')">–õ–æ–≥–∏–Ω</button>
    <button class="nav-tab" onclick="showScreen('dashboard')">Dashboard</button>
    <button class="nav-tab active" onclick="showScreen('board')">–î–æ—Å–∫–∞</button>
  </div>
  <div class="nav-right">
    <div style="font-size:12px;color:var(--text2);">–ê–ª–µ–∫—Å–µ–π –ö.</div>
    <div class="avatar">–ê–ö</div>
  </div>
</nav>

<!-- ===================== SCREEN: LOGIN ===================== -->
<div class="screen auth-screen" id="screen-login">
  <div class="auth-bg">
    <div class="auth-bg-circle" style="width:600px;height:600px;background:var(--accent);top:-200px;left:-200px;"></div>
    <div class="auth-bg-circle" style="width:400px;height:400px;background:var(--pink);bottom:-100px;right:-100px;"></div>
  </div>
  <div class="auth-card">
    <div style="font-size:28px;margin-bottom:12px;">‚ö°</div>
    <div class="auth-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</div>
    <div class="auth-sub">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç FlowBoard</div>
    <div class="form-group">
      <label class="form-label">Email</label>
      <input class="form-input" type="email" placeholder="you@example.com" value="alex@example.com">
    </div>
    <div class="form-group">
      <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
      <input class="form-input" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="password123">
    </div>
    <button class="btn-primary" onclick="showScreen('dashboard')">–í–æ–π—Ç–∏</button>
    <div class="auth-footer">
      –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <span class="auth-link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
    </div>
  </div>
</div>

<!-- ===================== SCREEN: DASHBOARD ===================== -->
<div class="screen" id="screen-dashboard">
  <div class="dashboard-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div style="padding: 4px 8px; display:flex; align-items:center; gap:8px; margin-bottom:4px;">
        <div class="avatar" style="width:36px;height:36px;font-size:14px;">–ê–ö</div>
        <div>
          <div style="font-size:13px;font-weight:600;">–ê–ª–µ–∫—Å–µ–π –ö.</div>
          <div style="font-size:11px;color:var(--text3);">Personal</div>
        </div>
      </div>
      <div class="sidebar-section">–û–±—â–µ–µ</div>
      <div class="sidebar-item active">
        <span>üìã</span> –í—Å–µ –¥–æ—Å–∫–∏
        <span class="sidebar-badge">4</span>
      </div>
      <div class="sidebar-item">
        <span>‚≠ê</span> –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
        <span class="sidebar-badge">2</span>
      </div>
      <div class="sidebar-item">
        <span>üìÖ</span> –î–µ–¥–ª–∞–π–Ω—ã
      </div>
      <div class="sidebar-section">–ú–æ–∏ –¥–æ—Å–∫–∏</div>
      <div class="sidebar-item" onclick="showScreen('board')">
        <div class="dot" style="background:#7c6aff;"></div> FlowBoard Dev
      </div>
      <div class="sidebar-item" onclick="showScreen('board')">
        <div class="dot" style="background:#22c55e;"></div> –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥
      </div>
      <div class="sidebar-item" onclick="showScreen('board')">
        <div class="dot" style="background:#f97316;"></div> –õ–∏—á–Ω–æ–µ
      </div>
      <div class="sidebar-item" onclick="showScreen('board')">
        <div class="dot" style="background:#ec4899;"></div> –£—á—ë–±–∞
      </div>
      <div style="margin-top:auto; padding: 8px 8px 0;">
        <div class="sidebar-item">
          <span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        </div>
      </div>
    </aside>

    <!-- Main -->
    <main class="main-content">
      <div class="page-header">
        <div>
          <div class="page-title">–ú–æ–∏ –¥–æ—Å–∫–∏</div>
          <div class="page-sub">–£–ø—Ä–∞–≤–ª—è–π –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏</div>
        </div>
        <button class="btn-sm" onclick="openModal('create-board-modal')">
          <span>+</span> –ù–æ–≤–∞—è –¥–æ—Å–∫–∞
        </button>
      </div>

      <!-- Stats -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value" style="color:var(--accent)">24</div>
          <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color:var(--green)">11</div>
          <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color:var(--orange)">8</div>
          <div class="stat-label">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color:var(--red)">3</div>
          <div class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
        </div>
      </div>

      <!-- Boards Grid -->
      <div class="boards-grid">
        <div class="board-card" onclick="showScreen('board')">
          <div class="board-card-accent" style="background:var(--accent);"></div>
          <div class="board-card-title">FlowBoard Dev</div>
          <div class="board-card-desc">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
          <div class="board-card-meta">
            <div class="board-card-tasks">üìã 12 –∑–∞–¥–∞—á</div>
            <div>2 –¥–Ω—è –Ω–∞–∑–∞–¥</div>
          </div>
        </div>
        <div class="board-card" onclick="showScreen('board')">
          <div class="board-card-accent" style="background:var(--green);"></div>
          <div class="board-card-title">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1</div>
          <div class="board-card-desc">–ö–∞–º–ø–∞–Ω–∏–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ –ø–µ—Ä–≤—ã–π –∫–≤–∞—Ä—Ç–∞–ª</div>
          <div class="board-card-meta">
            <div class="board-card-tasks">üìã 7 –∑–∞–¥–∞—á</div>
            <div>–≤—á–µ—Ä–∞</div>
          </div>
        </div>
        <div class="board-card" onclick="showScreen('board')">
          <div class="board-card-accent" style="background:var(--orange);"></div>
          <div class="board-card-title">–õ–∏—á–Ω–æ–µ</div>
          <div class="board-card-desc">–î–æ–º–∞—à–Ω–∏–µ –¥–µ–ª–∞, –ø–æ–∫—É–ø–∫–∏, –ø–ª–∞–Ω—ã</div>
          <div class="board-card-meta">
            <div class="board-card-tasks">üìã 3 –∑–∞–¥–∞—á–∏</div>
            <div>5 –¥–Ω–µ–π –Ω–∞–∑–∞–¥</div>
          </div>
        </div>
        <div class="board-card" onclick="showScreen('board')">
          <div class="board-card-accent" style="background:var(--pink);"></div>
          <div class="board-card-title">–£—á—ë–±–∞ React</div>
          <div class="board-card-desc">–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å—É –∏ –ø–µ—Ç-–ø—Ä–æ–µ–∫—Ç—É</div>
          <div class="board-card-meta">
            <div class="board-card-tasks">üìã 5 –∑–∞–¥–∞—á</div>
            <div>—Å–µ–≥–æ–¥–Ω—è</div>
          </div>
        </div>
        <div class="new-board-card" onclick="openModal('create-board-modal')">
          <div class="plus-icon">+</div>
          <span>–°–æ–∑–¥–∞—Ç—å –¥–æ—Å–∫—É</span>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- ===================== SCREEN: BOARD ===================== -->
<div class="screen active" id="screen-board">
  <!-- Board Header -->
  <div class="board-header">
    <div class="board-header-left">
      <div class="breadcrumb">
        <span onclick="showScreen('dashboard')" style="cursor:pointer;color:var(--text2);">–ú–æ–∏ –¥–æ—Å–∫–∏</span>
        <span>‚Ä∫</span>
        <strong style="color:var(--text);">FlowBoard Dev</strong>
      </div>
    </div>
    <div class="board-filters">
      <input class="filter-input" placeholder="üîç  –ü–æ–∏—Å–∫ –∑–∞–¥–∞—á...">
      <select class="filter-select">
        <option>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –≤—Å–µ</option>
        <option>Urgent</option>
        <option>High</option>
        <option>Medium</option>
        <option>Low</option>
      </select>
      <button class="btn-sm" onclick="openModal('create-task-modal')">+ –ó–∞–¥–∞—á–∞</button>
    </div>
  </div>

  <!-- Kanban Canvas -->
  <div class="board-canvas" id="board-canvas">

    <!-- Column 1: Backlog -->
    <div class="column" id="col-backlog">
      <div class="column-header">
        <div class="column-title">
          <div class="status-dot" style="background:var(--text3);"></div>
          –ë—ç–∫–ª–æ–≥
          <span class="column-count">4</span>
        </div>
        <button class="column-menu">‚ãØ</button>
      </div>
      <div class="column-body" id="body-backlog" ondragover="onDragOver(event)" ondrop="onDrop(event,'backlog')">

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-medium">‚óè Medium</div>
          <div class="task-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –∏ —Å—Ö–µ–º–∞ –ë–î</div>
          <div class="task-tags">
            <span class="tag">backend</span>
            <span class="tag">setup</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 28 —Ñ–µ–≤</div>
            <div>–°–ø—Ä–∏–Ω—Ç 0</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-low">‚óè Low</div>
          <div class="task-title">–ù–∞–ø–∏—Å–∞—Ç—å README –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã</div>
          <div class="task-tags">
            <span class="tag">docs</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 15 –º–∞—Ä</div>
            <div>–°–ø—Ä–∏–Ω—Ç 9</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-high">‚óè High</div>
          <div class="task-title">E2E —Ç–µ—Å—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (Playwright)</div>
          <div class="task-tags">
            <span class="tag">testing</span>
            <span class="tag">e2e</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 10 –º–∞—Ä</div>
            <div>–°–ø—Ä–∏–Ω—Ç 8</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)">
          <div class="task-priority priority-low">‚óè Low</div>
          <div class="task-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ SEO –≤ Next.js</div>
          <div class="task-tags"><span class="tag">seo</span></div>
          <div class="task-footer">
            <div class="deadline">üìÖ 18 –º–∞—Ä</div>
          </div>
        </div>

      </div>
      <div style="padding:8px;">
        <button class="add-task-btn" onclick="openModal('create-task-modal')">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      </div>
    </div>

    <!-- Column 2: In Progress -->
    <div class="column" id="col-progress">
      <div class="column-header">
        <div class="column-title">
          <div class="status-dot" style="background:var(--blue);"></div>
          –í –ø—Ä–æ—Ü–µ—Å—Å–µ
          <span class="column-count" style="background:rgba(59,130,246,0.15);color:var(--blue);">3</span>
        </div>
        <button class="column-menu">‚ãØ</button>
      </div>
      <div class="column-body" id="body-progress" ondragover="onDragOver(event)" ondrop="onDrop(event,'progress')">

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-urgent">üî• Urgent</div>
          <div class="task-title">Drag & Drop –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ (dnd-kit)</div>
          <div class="task-tags">
            <span class="tag">feature</span>
            <span class="tag">dnd-kit</span>
          </div>
          <div class="task-footer">
            <div class="deadline overdue">‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
            <div>–°–ø—Ä–∏–Ω—Ç 5</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-high">‚óè High</div>
          <div class="task-title">Zustand —Å—Ç–æ—Ä: UI —Å—Ç–µ–π—Ç (–º–æ–¥–∞–ª–∫–∏, drag)</div>
          <div class="task-tags">
            <span class="tag">state</span>
            <span class="tag">zustand</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 22 —Ñ–µ–≤</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" onclick="openModal('task-detail-modal')">
          <div class="task-priority priority-medium">‚óè Medium</div>
          <div class="task-title">–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ TanStack Query</div>
          <div class="task-tags">
            <span class="tag">react-query</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 24 —Ñ–µ–≤</div>
          </div>
        </div>

      </div>
      <div style="padding:8px;">
        <button class="add-task-btn" onclick="openModal('create-task-modal')">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      </div>
    </div>

    <!-- Column 3: Review -->
    <div class="column" id="col-review">
      <div class="column-header">
        <div class="column-title">
          <div class="status-dot" style="background:var(--yellow);"></div>
          –†–µ–≤—å—é
          <span class="column-count" style="background:rgba(234,179,8,0.15);color:var(--yellow);">2</span>
        </div>
        <button class="column-menu">‚ãØ</button>
      </div>
      <div class="column-body" id="body-review" ondragover="onDragOver(event)" ondrop="onDrop(event,'review')">

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)">
          <div class="task-priority priority-high">‚óè High</div>
          <div class="task-title">Middleware –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤ Next.js</div>
          <div class="task-tags">
            <span class="tag">auth</span>
            <span class="tag">next.js</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 20 —Ñ–µ–≤</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)">
          <div class="task-priority priority-medium">‚óè Medium</div>
          <div class="task-title">–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞: react-hook-form + zod –≤–∞–ª–∏–¥–∞—Ü–∏—è</div>
          <div class="task-tags">
            <span class="tag">auth</span>
            <span class="tag">forms</span>
          </div>
          <div class="task-footer">
            <div class="deadline">üìÖ 19 —Ñ–µ–≤</div>
          </div>
        </div>

      </div>
      <div style="padding:8px;">
        <button class="add-task-btn">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      </div>
    </div>

    <!-- Column 4: Done -->
    <div class="column" id="col-done">
      <div class="column-header">
        <div class="column-title">
          <div class="status-dot" style="background:var(--green);"></div>
          –ì–æ—Ç–æ–≤–æ ‚úì
          <span class="column-count" style="background:rgba(34,197,94,0.15);color:var(--green);">3</span>
        </div>
        <button class="column-menu">‚ãØ</button>
      </div>
      <div class="column-body" id="body-done" ondragover="onDragOver(event)" ondrop="onDrop(event,'done')">

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" style="opacity:0.7;">
          <div class="task-priority priority-medium">‚óè Medium</div>
          <div class="task-title" style="text-decoration:line-through;color:var(--text2);">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Next.js + TypeScript + Tailwind</div>
          <div class="task-tags">
            <span class="tag">setup</span>
          </div>
          <div class="task-footer">
            <div style="color:var(--green);">‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" style="opacity:0.7;">
          <div class="task-priority priority-high">‚óè High</div>
          <div class="task-title" style="text-decoration:line-through;color:var(--text2);">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESLint + Prettier + Husky</div>
          <div class="task-tags"><span class="tag">setup</span><span class="tag">tooling</span></div>
          <div class="task-footer">
            <div style="color:var(--green);">‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
          </div>
        </div>

        <div class="task-card" draggable="true" ondragstart="onDragStart(event,this)" style="opacity:0.7;">
          <div class="task-priority priority-medium">‚óè Medium</div>
          <div class="task-title" style="text-decoration:line-through;color:var(--text2);">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</div>
          <div class="task-footer">
            <div style="color:var(--green);">‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
          </div>
        </div>

      </div>
      <div style="padding:8px;">
        <button class="add-task-btn">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      </div>
    </div>

    <!-- Add column -->
    <div style="flex-shrink:0;align-self:flex-start;">
      <button class="add-task-btn" style="width:180px;padding:12px;border-radius:12px;font-size:13px;">
        + –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É
      </button>
    </div>

  </div>
</div>

<!-- ==================== MODAL: CREATE BOARD ==================== -->
<div class="modal-overlay" id="create-board-modal" onclick="closeModalOnBg(event,'create-board-modal')">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">–°–æ–∑–¥–∞—Ç—å –¥–æ—Å–∫—É</div>
      <button class="modal-close" onclick="closeModal('create-board-modal')">‚úï</button>
    </div>
    <div class="form-group">
      <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
      <input class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –†–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç">
    </div>
    <div class="form-group">
      <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <input class="form-input" placeholder="–ö—Ä–∞—Ç–∫–æ –æ —á—ë–º —ç—Ç–∞ –¥–æ—Å–∫–∞">
    </div>
    <div class="form-group">
      <label class="form-label">–¶–≤–µ—Ç</label>
      <div class="color-palette">
        <div class="color-dot-pick selected" style="background:#7c6aff;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#22c55e;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#f97316;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#ef4444;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#3b82f6;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#ec4899;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#eab308;" onclick="selectColor(this)"></div>
        <div class="color-dot-pick" style="background:#14b8a6;" onclick="selectColor(this)"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" onclick="closeModal('create-board-modal')">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn-sm" onclick="closeModal('create-board-modal')">–°–æ–∑–¥–∞—Ç—å –¥–æ—Å–∫—É</button>
    </div>
  </div>
</div>

<!-- ==================== MODAL: CREATE TASK ==================== -->
<div class="modal-overlay" id="create-task-modal" onclick="closeModalOnBg(event,'create-task-modal')">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>
      <button class="modal-close" onclick="closeModal('create-task-modal')">‚úï</button>
    </div>
    <div class="form-group">
      <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
      <input class="form-input" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
    </div>
    <div class="form-group">
      <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea class="form-input" style="height:80px;resize:none;" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏..."></textarea>
    </div>
    <div class="form-group">
      <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
      <div class="priority-picker">
        <button class="priority-option" onclick="selectPriority(this)">üü¢ Low</button>
        <button class="priority-option selected" onclick="selectPriority(this)">üü° Medium</button>
        <button class="priority-option" onclick="selectPriority(this)">üü† High</button>
        <button class="priority-option" onclick="selectPriority(this)">üî¥ Urgent</button>
      </div>
    </div>
    <div class="form-group">
      <label class="form-label">–î–µ–¥–ª–∞–π–Ω</label>
      <input class="form-input" type="date">
    </div>
    <div class="form-group">
      <label class="form-label">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
      <input class="form-input" placeholder="feature, frontend, api">
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" onclick="closeModal('create-task-modal')">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn-sm" onclick="closeModal('create-task-modal')">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</button>
    </div>
  </div>
</div>

<!-- ==================== MODAL: TASK DETAIL ==================== -->
<div class="modal-overlay" id="task-detail-modal" onclick="closeModalOnBg(event,'task-detail-modal')">
  <div class="modal" style="width:520px;">
    <div class="modal-header">
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="task-priority priority-urgent" style="margin:0;">üî• Urgent</div>
        <button class="modal-close" onclick="closeModal('task-detail-modal')" style="margin-left:auto;">‚úï</button>
      </div>
    </div>
    <div class="task-detail-body">
      <div>
        <div style="font-family:'Syne',sans-serif;font-size:18px;font-weight:700;line-height:1.3;margin-bottom:6px;">
          Drag & Drop –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ (dnd-kit)
        </div>
        <div style="font-size:12px;color:var(--text3);">–°–æ–∑–¥–∞–Ω–æ 15 —Ñ–µ–≤ ¬∑ –í –∫–æ–ª–æ–Ω–∫–µ <span style="color:var(--blue);">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</span></div>
      </div>

      <div>
        <div class="detail-section-title">–û–ø–∏—Å–∞–Ω–∏–µ</div>
        <div class="detail-description">
          –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ –≤ –¥—Ä—É–≥—É—é —Å –ø–æ–º–æ—â—å—é @dnd-kit/core –∏ @dnd-kit/sortable. –ü–æ—Å–ª–µ drop –æ–±–Ω–æ–≤–∏—Ç—å column_id –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å position —á–µ—Ä–µ–∑ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ TanStack Query.
        </div>
      </div>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
        <div>
          <div class="detail-section-title">–î–µ–¥–ª–∞–π–Ω</div>
          <div style="font-size:13px;color:var(--red);">‚ö†Ô∏è 16 —Ñ–µ–≤ 2025 ‚Äî –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
        </div>
        <div>
          <div class="detail-section-title">–ö–æ–ª–æ–Ω–∫–∞</div>
          <div style="font-size:13px;">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
        </div>
      </div>

      <div>
        <div class="detail-section-title">–¢–µ–≥–∏</div>
        <div class="task-tags">
          <span class="tag">feature</span>
          <span class="tag">dnd-kit</span>
          <span class="tag">sprint-5</span>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" style="color:var(--red);border-color:rgba(239,68,68,0.3);">–£–¥–∞–ª–∏—Ç—å</button>
      <button class="btn-ghost" onclick="closeModal('task-detail-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
      <button class="btn-sm">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<script>
  // Screen switching
  function showScreen(name) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById('screen-' + name).classList.add('active');
    document.querySelectorAll('.nav-tab').forEach((t, i) => {
      t.classList.toggle('active', ['login','dashboard','board'][i] === name);
    });
  }

  // Modals
  function openModal(id) {
    document.getElementById(id).classList.add('open');
  }
  function closeModal(id) {
    document.getElementById(id).classList.remove('open');
  }
  function closeModalOnBg(e, id) {
    if (e.target === document.getElementById(id)) closeModal(id);
  }

  // Color picker
  function selectColor(el) {
    el.closest('.color-palette').querySelectorAll('.color-dot-pick').forEach(d => d.classList.remove('selected'));
    el.classList.add('selected');
  }

  // Priority picker
  function selectPriority(el) {
    el.closest('.priority-picker').querySelectorAll('.priority-option').forEach(o => o.classList.remove('selected'));
    el.classList.add('selected');
  }

  // Drag & Drop
  let draggedEl = null;
  function onDragStart(e, el) {
    draggedEl = el;
    setTimeout(() => el.classList.add('dragging'), 0);
    e.dataTransfer.effectAllowed = 'move';
  }
  document.addEventListener('dragend', () => {
    if (draggedEl) { draggedEl.classList.remove('dragging'); draggedEl = null; }
    document.querySelectorAll('.drag-placeholder').forEach(p => p.remove());
  });
  function onDragOver(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
  }
  function onDrop(e, colId) {
    e.preventDefault();
    if (!draggedEl) return;
    const body = document.getElementById('body-' + colId);
    const addBtn = body.nextElementSibling;
    body.appendChild(draggedEl);
    // Update counts
    updateCounts();
  }
  function updateCounts() {
    ['backlog','progress','review','done'].forEach(id => {
      const body = document.getElementById('body-' + id);
      const count = body.querySelectorAll('.task-card').length;
      const col = document.getElementById('col-' + id);
      col.querySelector('.column-count').textContent = count;
    });
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal-overlay.open').forEach(m => m.classList.remove('open'));
    }
  });
</script>
</body>
</html>
